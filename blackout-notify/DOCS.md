# Telegram Bot Add-on Documentation# Telegram Bot Add-on Documentation



## –û–ø–∏—Å## –û–ø–∏—Å



–¶–µ–π add-on –¥–æ–∑–≤–æ–ª—è—î –∫–µ—Ä—É–≤–∞—Ç–∏ Home Assistant —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –∑–º—ñ–Ω—É —Å—Ç–∞–Ω—É –∂–∏–≤–ª–µ–Ω–Ω—è.–¶–µ–π add-on –¥–æ–∑–≤–æ–ª—è—î –∫–µ—Ä—É–≤–∞—Ç–∏ Home Assistant —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è.



## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è



- ü§ñ **–ö–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–∏** - –∫–µ—Ä—É–π—Ç–µ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏ Home Assistant —á–µ—Ä–µ–∑ Telegram### telegram_token (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)

- ‚ö° **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∂–∏–≤–ª–µ–Ω–Ω—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω—ñ/–≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ —Å–≤—ñ—Ç–ª–∞–¢–æ–∫–µ–Ω –≤–∞—à–æ–≥–æ Telegram –±–æ—Ç–∞. –û—Ç—Ä–∏–º–∞–π—Ç–µ –π–æ–≥–æ —É [@BotFather](https://t.me/BotFather).

- üìÖ **–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≥—Ä–∞—Ñ—ñ–∫** - –ø–æ–∫–∞–∑—É—î —á–∞—Å –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –ø–ª–∞–Ω–æ–≤–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–Ω—è/–≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

- ‚è∏Ô∏è **–ü–∞—É–∑–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å** - –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ç–∏–º—á–∞—Å–æ–≤–æ –≤–∏–º–∫–Ω—É—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Home Assistant### allowed_chat_ids (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–°–ø–∏—Å–æ–∫ chat ID, —è–∫–∏–º –¥–æ–∑–≤–æ–ª–µ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±–æ—Ç–∞. –Ø–∫—â–æ –ø–æ—Ä–æ–∂–Ω—ñ–π - –±–æ—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π –≤—Å—ñ–º (–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ!).

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–©–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è —Å–≤—ñ–π chat ID:

### –û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è1. –ù–∞–ø–∏—à—ñ—Ç—å –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot)

2. –í—ñ–Ω –ø–æ–≤–µ—Ä–Ω–µ –≤–∞—à ID

#### telegram_token (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)

–¢–æ–∫–µ–Ω –≤–∞—à–æ–≥–æ Telegram –±–æ—Ç–∞. –û—Ç—Ä–∏–º–∞–π—Ç–µ –π–æ–≥–æ —É [@BotFather](https://t.me/BotFather).### log_level

–†—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è: `debug`, `info`, `warn`, `error`. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `info`.

#### allowed_chat_ids (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–°–ø–∏—Å–æ–∫ chat ID, —è–∫–∏–º –¥–æ–∑–≤–æ–ª–µ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±–æ—Ç–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥. –Ø–∫—â–æ –ø–æ—Ä–æ–∂–Ω—ñ–π - –±–æ—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π –≤—Å—ñ–º (–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ!).### polling_interval

–Ü–Ω—Ç–µ—Ä–≤–∞–ª –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É entities (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö). –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 30.

–©–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è —Å–≤—ñ–π chat ID:

1. –ù–∞–ø–∏—à—ñ—Ç—å –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot)## –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

2. –í—ñ–Ω –ø–æ–≤–µ—Ä–Ω–µ –≤–∞—à ID

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |

#### log_level|---------|------|

–†—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è: `debug`, `info`, `warn`, `error`. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `info`.| `/start` | –ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è —Ç–∞ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ |

| `/status` | –°—Ç–∞—Ç—É—Å Home Assistant |

#### polling_interval| `/entities` | –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö entities |

–Ü–Ω—Ç–µ—Ä–≤–∞–ª –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É entities (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö). –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 30.| `/state <entity_id>` | –°—Ç–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó entity |

| `/turn_on <entity_id>` | –£–≤—ñ–º–∫–Ω—É—Ç–∏ entity |

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –∂–∏–≤–ª–µ–Ω–Ω—è| `/turn_off <entity_id>` | –í–∏–º–∫–Ω—É—Ç–∏ entity |



#### notification_chat_ids## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

–°–ø–∏—Å–æ–∫ chat ID (–∫–∞–Ω–∞–ª–∏ –∞–±–æ –≥—Ä—É–ø–∏) –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø—Ä–æ –∂–∏–≤–ª–µ–Ω–Ω—è. –ú–æ–∂–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è –≤—ñ–¥ `allowed_chat_ids`.

```

–î–ª—è –∫–∞–Ω–∞–ª—É: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ ID –∫–∞–Ω–∞–ª—É (–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `-100`)/state light.living_room

/turn_on switch.bedroom_fan

#### watched_entity_id/entities sensor

Entity ID —Å–µ–Ω—Å–æ—Ä–∞ –∂–∏–≤–ª–µ–Ω–Ω—è, –∑–∞ —è–∫–∏–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–ª—ñ–¥–∫—É–≤–∞—Ç–∏.```



–ü—Ä–∏–∫–ª–∞–¥: `binary_sensor.power_status`## –ë–µ–∑–ø–µ–∫–∞



#### next_on_sensor_id‚ö†Ô∏è **–í–∞–∂–ª–∏–≤–æ**: –ó–∞–≤–∂–¥–∏ –≤–∫–∞–∑—É–π—Ç–µ `allowed_chat_ids` –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ –±–æ—Ç–∞!

Entity ID —Å–µ–Ω—Å–æ—Ä–∞ –∑ —á–∞—Å–æ–º –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞.

–ü—Ä–∏–∫–ª–∞–¥: `sensor.next_power_on`

#### next_off_sensor_id
Entity ID —Å–µ–Ω—Å–æ—Ä–∞ –∑ —á–∞—Å–æ–º –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞.

–ü—Ä–∏–∫–ª–∞–¥: `sensor.next_power_off`

#### pause_entity_id
Entity ID `input_boolean` –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–æ—ó –ø–∞—É–∑–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å.

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `input_boolean.pause_power_notifications`

#### timezone
–ß–∞—Å–æ–≤–∏–π –ø–æ—è—Å –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É.

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `Europe/Kyiv`

## –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `/start` | –ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è —Ç–∞ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ |
| `/status` | –°—Ç–∞—Ç—É—Å Home Assistant |
| `/entities` | –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö entities |
| `/state <entity_id>` | –°—Ç–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó entity |
| `/turn_on <entity_id>` | –£–≤—ñ–º–∫–Ω—É—Ç–∏ entity |
| `/turn_off <entity_id>` | –í–∏–º–∫–Ω—É—Ç–∏ entity |
| `/chatid` | –ü–æ–∫–∞–∑–∞—Ç–∏ –≤–∞—à chat ID |

## –§–æ—Ä–º–∞—Ç —Å–ø–æ–≤—ñ—â–µ–Ω—å

### –°–≤—ñ—Ç–ª–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ
```
üí° –°–≤—ñ—Ç–ª–æ –ø–æ–≤–µ—Ä–Ω—É–ª–æ—Å—å! (14:30)

üìÖ –ù–∞—Å—Ç—É–ø–Ω–µ –ø–ª–∞–Ω–æ–≤–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 2 –≥–æ–¥ 15 —Ö–≤ (16:45)
```

### –°–≤—ñ—Ç–ª–æ –≤–∏–º–∫–Ω–µ–Ω–æ
```
üîå –°–≤—ñ—Ç–ª–æ –≤–∏–º–∫–Ω–µ–Ω–æ (14:30)

üìÖ –ù–∞—Å—Ç—É–ø–Ω–µ –ø–ª–∞–Ω–æ–≤–µ –≤–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 3 –≥–æ–¥ 30 —Ö–≤ (18:00)
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Home Assistant

–î–ª—è —Ä–æ–±–æ—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –∂–∏–≤–ª–µ–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ `input_boolean` –¥–ª—è –ø–∞—É–∑–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å:

```yaml
# configuration.yaml
input_boolean:
  pause_power_notifications:
    name: "–ü–∞—É–∑–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø—Ä–æ —Å–≤—ñ—Ç–ª–æ"
    icon: mdi:bell-off
```

–î–µ—Ç–∞–ª—å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –¥–∏–≤—ñ—Ç—å—Å—è —É —Ñ–∞–π–ª—ñ `ha-config-examples.yaml`.

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥

```
/state light.living_room
/turn_on switch.bedroom_fan
/entities sensor
```

## –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–í–∞–∂–ª–∏–≤–æ**: 
- –ó–∞–≤–∂–¥–∏ –≤–∫–∞–∑—É–π—Ç–µ `allowed_chat_ids` –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ –±–æ—Ç–∞!
- –î–ª—è –ø—É–±–ª—ñ—á–Ω–∏—Ö –∫–∞–Ω–∞–ª—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–∫—Ä–µ–º–∏–π `notification_chat_ids`

## –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

–Ø–∫—â–æ –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –±–æ—Ç–∞ –ø–æ–∑–∞ Home Assistant Add-on, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü—ñ –∑–º—ñ–Ω–Ω—ñ:

```env
TELEGRAM_TOKEN=your_bot_token
HA_API_URL=http://homeassistant.local:8123/api
HA_TOKEN=your_long_lived_access_token
ALLOWED_CHAT_IDS=123456789
NOTIFICATION_CHAT_IDS=-1001234567890
WATCHED_ENTITY_ID=binary_sensor.power_status
NEXT_ON_SENSOR_ID=sensor.next_power_on
NEXT_OFF_SENSOR_ID=sensor.next_power_off
PAUSE_ENTITY_ID=input_boolean.pause_power_notifications
TIMEZONE=Europe/Kyiv
LOG_LEVEL=info
```
